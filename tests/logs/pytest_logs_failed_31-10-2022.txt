PS C:\Users\patrik\PycharmProjects\moje-clanky-api-3> pytest
========================================================================================================= test session starts =========================================================================================================
platform win32 -- Python 3.8.10, pytest-7.1.3, pluggy-1.0.0
rootdir: C:\Users\patrik\PycharmProjects\moje-clanky-api-3, configfile: pyproject.toml, testpaths: tests
plugins: cov-4.0.0, mock-3.10.0, typeguard-2.13.3
collected 132 items

tests\test_integration\test_data_handling\test_data_manipulation.py .                                                                                                                                                            [  0%]
tests\test_integration\test_data_handling\test_data_queries.py ..............                                                                                                                                                    [ 11%]
tests\test_integration\test_only_local_working_methods\test_content_based_local.py ...............                                                                                                                               [ 22%]
tests\test_integration\test_only_local_working_methods\test_data_queries.py .............                                                                                                                                        [ 32%]
tests\test_integration\test_only_local_working_methods\test_hybrid.py .....F                                                                                                                                                     [ 37%]
tests\test_integration\test_only_local_working_methods\test_hybrid_methods.py ..                                                                                                                                                 [ 38%]
tests\test_integration\test_only_local_working_methods\test_prefiller.py .EF                                                                                                                                                     [ 40%]
tests\test_integration\test_only_local_working_methods\test_prefilling_all.py F                                                                                                                                                  [ 41%]
tests\test_integration\test_only_local_working_methods\test_user_relevance_classifier.py .                                                                                                                                       [ 42%]
tests\test_integration\test_prefillers\test_prefillers_methods.py ....                                                                                                                                                           [ 45%]
tests\test_integration\test_preprocessing\test_needed_columns.py ....                                                                                                                                                            [ 48%]
tests\test_integration\test_preprocessing\test_preprocessing_methods.py .                                                                                                                                                        [ 49%]
tests\test_integration\test_recommender_methods\test_collaboration_methods.py .                                                                                                                                                  [ 50%]
tests\test_integration\test_recommender_methods\test_content_based_methods.py ............................                                                                                                                       [ 71%]
tests\test_integration\test_recommender_methods\test_hybrid_methods.py .........                                                                                                                                                 [ 78%]
tests\test_integration\test_recommender_methods\test_user_preferences_methods.py ......                                                                                                                                          [ 82%]
tests\test_unit\test_preprocessing\test_preprocessing_methods.py .                                                                                                                                                               [ 83%]
tests\test_unit\test_recommender_methods\test_hybrid_methods.py ..........                                                                                                                                                       [ 90%]
tests\test_unit\test_recommender_methods\test_user_preferences_methods.py .......                                                                                                                                                [ 96%]
tests\test_unit\test_recommender_methods\test_user_relevance_classifier.py .....                                                                                                                                                 [100%]

=============================================================================================================== ERRORS ================================================================================================================
________________________________________________________________________________________ ERROR at setup of test_fill_recommended_content_based ________________________________________________________________________________________
file C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_prefiller.py, line 19
  def test_fill_recommended_content_based(self):
E       fixture 'self' not found
>       available fixtures: cache, capfd, capfdbinary, caplog, capsys, capsysbinary, class_mocker, cov, doctest_namespace, mocker, module_mocker, monkeypatch, no_cover, package_mocker, pytestconfig, record_property, record_testsuite
_property, record_xml_attribute, recwarn, session_mocker, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_prefiller.py:19
============================================================================================================== FAILURES ===============================================================================================================
_______________________________________________________________________________________________________ test_boost_by_freshness _______________________________________________________________________________________________________

    def test_boost_by_freshness():
        coeff_1 = 0.5
        coeff_2 = 0.8
        coeff_3 = 0.6
        coeff_4 = 0.856
        now = datetime.datetime.now(datetime.timezone.utc).replace(tzinfo=None)
        fresh = now + datetime.timedelta(minutes=-30)
        older_than_hour = now + datetime.timedelta(hours=-3)
        older_than_day = now + datetime.timedelta(days=-3)
        older_than_5_days = now + datetime.timedelta(days=-6)
        tested_data = {
            'coefficient': [coeff_1, coeff_2, coeff_3, coeff_4],
            'post_created_at': [fresh, older_than_hour, older_than_day, older_than_5_days]
        }
        tested_df = pd.DataFrame(tested_data)
        tested_df = boost_by_article_freshness(tested_df)

        hybrid_constants = HybridConstants()
>       assert tested_df.iloc[0]['coefficient'] == coeff_1 * hybrid_constants.coeff_and_hours_1[0]
E       assert 4.0 == (0.5 * 15)

tests\test_integration\test_only_local_working_methods\test_hybrid.py:135: AssertionError
___________________________________________________________________________________________ TestPrefiller.test_prefilling_job_content_based ___________________________________________________________________________________________

self = <tests.test_integration.test_only_local_working_methods.test_prefiller.TestPrefiller testMethod=test_prefilling_job_content_based>, capsys = <MagicMock name='fill_recommended_content_based' id='1215478304928'>

    @mock.patch('src.prefillers.prefiller.fill_recommended_content_based', side_effect=psycopg2.OperationalError)
    def test_prefilling_job_content_based(self, capsys):

        prefilling_job_content_based(method="test", full_text=False, test_call=True)

        with open(LOGGING_FILE_PATH) as f:
            log_lines = f.readlines()

>       assert 'DB operational error' in ''.join(log_lines)
E       AssertionError: assert 'DB operational error' in '10/31/2022 01:02:35 PM Testing logging in prefiller.\n'
E        +  where '10/31/2022 01:02:35 PM Testing logging in prefiller.\n' = <built-in method join of str object at 0x0000011B4D7622F0>(['10/31/2022 01:02:35 PM Testing logging in prefiller.\n'])
E        +    where <built-in method join of str object at 0x0000011B4D7622F0> = ''.join

tests\test_integration\test_only_local_working_methods\test_prefiller.py:49: AssertionError
-------------------------------------------------------------------------------------------------------- Captured stderr call ---------------------------------------------------------------------------------------------------------
[2022-10-31 13:27:17,180] [DEBUG] - DB operational error. Waiting few seconds before trying again...
---------------------------------------------------------------------------------------------------------- Captured log call ----------------------------------------------------------------------------------------------------------
DEBUG    root:prefiller.py:411 DB operational error. Waiting few seconds before trying again...
_________________________________________________________________________________________________________ test_run_prefilling _________________________________________________________________________________________________________

caplog = <_pytest.logging.LogCaptureFixture object at 0x0000011B07002B50>

    @pytest.mark.integtest
    def test_run_prefilling(caplog):
        database = DatabaseMethods()
        needed_columns = check_needed_columns(database)
        assert type(needed_columns) is list

        # Good Day
        # NOTICE: method "test_prefilled_all" corresponds to recommended_test_prefilled_all column which should
        # contain prefilled
        LOGGER.info('Testing logger now.')
        run_prefilling(skip_cache_refresh=True, methods_short_text=["test_prefilled_all"], methods_full_text=[])
>       assert 'Found 0 not prefilled posts in test_prefilled_all' in caplog.text
E       AssertionError: assert 'Found 0 not prefilled posts in test_prefilled_all' in 'INFO     tests.test_integration.test_only_local_working_methods.test_prefilling_all:test_prefilling_all.py:21 Testing...ts in test_prefilled_all
| full text: False\nDEBUG    root:data_manipulation.py:575 Getting records from testing DB.\n'
E        +  where 'INFO     tests.test_integration.test_only_local_working_methods.test_prefilling_all:test_prefilling_all.py:21 Testing...ts in test_prefilled_all | full text: False\nDEBUG    root:data_manipulation.py:575 Getting r
ecords from testing DB.\n' = <_pytest.logging.LogCaptureFixture object at 0x0000011B07002B50>.text

tests\test_integration\test_only_local_working_methods\test_prefilling_all.py:23: AssertionError
-------------------------------------------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------------------------------------------
Values missing in:
[]
Values missing in:
[]
Reversing list of posts...
Exception occurred Non from selected method is supported. Check the 'method' parametervalue.
-------------------------------------------------------------------------------------------------------- Captured stderr call ---------------------------------------------------------------------------------------------------------
[2022-10-31 13:27:17,220] [INFO] - Testing logger now.
[2022-10-31 13:27:17,222] [DEBUG] - Check needed columns posts...
[2022-10-31 13:27:17,314] [DEBUG] - Getting records from testing DB.
[2022-10-31 13:27:17,320] [INFO] - Found 1 not prefilled posts in test_prefilled_all | full text: False
[2022-10-31 13:27:17,345] [DEBUG] - Getting records from testing DB.
Traceback (most recent call last):
  File "C:\Users\patrik\PycharmProjects\moje-clanky-api-3\src\prefillers\prefilling_all.py", line 81, in prepare_and_run
    prefilling_job_content_based(method=method, full_text=full_text, reversed_order=reverse,
  File "C:\Users\patrik\PycharmProjects\moje-clanky-api-3\src\prefillers\prefiller.py", line 407, in prefilling_job_content_based
    fill_recommended_content_based(method=method, full_text=full_text, skip_already_filled=True,
  File "C:\Users\patrik\PycharmProjects\moje-clanky-api-3\src\prefillers\prefiller.py", line 214, in fill_recommended_content_based
    raise ValueError("Non from selected method is supported. Check the 'method' parameter"
ValueError: Non from selected method is supported. Check the 'method' parametervalue.
---------------------------------------------------------------------------------------------------------- Captured log call ----------------------------------------------------------------------------------------------------------
INFO     tests.test_integration.test_only_local_working_methods.test_prefilling_all:test_prefilling_all.py:21 Testing logger now.
DEBUG    root:prefilling_all.py:38 Check needed columns posts...
DEBUG    root:data_manipulation.py:575 Getting records from testing DB.
INFO     root:prefilling_all.py:77 Found 1 not prefilled posts in test_prefilled_all | full text: False
DEBUG    root:data_manipulation.py:575 Getting records from testing DB.
========================================================================================================== warnings summary ===========================================================================================================
venv\lib\site-packages\gensim\matutils.py:22
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\venv\lib\site-packages\gensim\matutils.py:22: DeprecationWarning: Please use `triu` from the `scipy.linalg` namespace, the `scipy.linalg.special_matrices` namespace is deprecated.
    from scipy.linalg.special_matrices import triu

venv\lib\site-packages\sklearn\utils\multiclass.py:14
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\venv\lib\site-packages\sklearn\utils\multiclass.py:14: DeprecationWarning: Please use `spmatrix` from the `scipy.sparse` namespace, the `scipy.sparse.base` namespace is deprecated.

    from scipy.sparse.base import spmatrix

venv\lib\site-packages\sklearn\utils\optimize.py:18
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\venv\lib\site-packages\sklearn\utils\optimize.py:18: DeprecationWarning: Please use `line_search_wolfe2` from the `scipy.optimize` namespace, the `scipy.optimize.linesearch` namesp
ace is deprecated.
    from scipy.optimize.linesearch import line_search_wolfe2, line_search_wolfe1

venv\lib\site-packages\sklearn\utils\optimize.py:18
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\venv\lib\site-packages\sklearn\utils\optimize.py:18: DeprecationWarning: Please use `line_search_wolfe1` from the `scipy.optimize` namespace, the `scipy.optimize.linesearch` namesp
ace is deprecated.
    from scipy.optimize.linesearch import line_search_wolfe2, line_search_wolfe1

tests\test_integration\test_data_handling\test_data_manipulation.py:11
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_manipulation.py:11: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to
avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:21
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:21: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:36
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:36: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:44
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:44: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:54
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:54: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:74
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:74: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:81
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:81: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:90
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:90: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:97
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:97: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoid
 this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:104
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:104: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoi
d this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_data_handling\test_data_queries.py:111
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_data_handling\test_data_queries.py:111: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoi
d this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

venv\lib\site-packages\past\builtins\misc.py:45
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\venv\lib\site-packages\past\builtins\misc.py:45: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
    from imp import reload

tests\test_integration\test_only_local_working_methods\test_data_queries.py:22
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:22: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:33
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:33: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:42
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:42: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:50
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:57
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:57: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:64
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:64: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:84
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:84: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:91
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:91: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom m
arks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:101
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:101: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:106
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:106: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:128
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:128: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_data_queries.py:137
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_data_queries.py:137: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:26
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:26: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register c
ustom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:65
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:65: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register c
ustom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:80
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:80: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register c
ustom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:87
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:87: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register c
ustom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:113
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:113: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:122
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:122: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:140
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:140: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:168
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:168: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:194
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:194: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:206
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:206: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_content_based_local.py:214
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_content_based_local.py:214: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register
custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_hybrid.py:60
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_hybrid.py:60: PytestUnknownMarkWarning: Unknown pytest.mark.order - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.order(1)

tests\test_integration\test_only_local_working_methods\test_hybrid.py:83
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_hybrid.py:83: PytestUnknownMarkWarning: Unknown pytest.mark.order - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.order(2)

tests\test_integration\test_only_local_working_methods\test_prefiller.py:11
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_prefiller.py:11: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom mark
s to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_only_local_working_methods\test_prefilling_all.py:12
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_only_local_working_methods\test_prefilling_all.py:12: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
 marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_prefillers\test_prefillers_methods.py:27
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_prefillers\test_prefillers_methods.py:27: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_prefillers\test_prefillers_methods.py:60
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_prefillers\test_prefillers_methods.py:60: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_prefillers\test_prefillers_methods.py:69
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_prefillers\test_prefillers_methods.py:69: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_prefillers\test_prefillers_methods.py:71
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_prefillers\test_prefillers_methods.py:71: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_prefillers\test_prefillers_methods.py:85
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_prefillers\test_prefillers_methods.py:85: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to av
oid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

src\custom_exceptions\exceptions.py:1
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\src\custom_exceptions\exceptions.py:1: PytestCollectionWarning: cannot collect test class 'TestRunException' because it has a __init__ constructor (from: tests/test_integration/tes
t_prefillers/test_prefillers_methods.py)
    class TestRunException(Exception):

tests\test_integration\test_preprocessing\test_needed_columns.py:6
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_preprocessing\test_needed_columns.py:6: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avoi
d this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_preprocessing\test_needed_columns.py:15
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_preprocessing\test_needed_columns.py:15: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avo
id this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_preprocessing\test_needed_columns.py:24
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_preprocessing\test_needed_columns.py:24: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avo
id this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_preprocessing\test_needed_columns.py:34
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_preprocessing\test_needed_columns.py:34: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks to avo
id this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_preprocessing\test_preprocessing_methods.py:10
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_preprocessing\test_preprocessing_methods.py:10: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks
 to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:27
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:27: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
 marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:36
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:36: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
 marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:73
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:73: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
 marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:90
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:90: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom
 marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:124
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:124: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custo
m marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:131
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:131: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custo
m marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:159
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:159: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custo
m marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_content_based_methods.py:167
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_content_based_methods.py:167: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custo
m marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_hybrid_methods.py:27
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_hybrid_methods.py:27: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks
to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_hybrid_methods.py:34
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_hybrid_methods.py:34: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register custom marks
to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_user_preferences_methods.py:20
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_user_preferences_methods.py:20: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register cus
tom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests\test_integration\test_recommender_methods\test_user_preferences_methods.py:47
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\tests\test_integration\test_recommender_methods\test_user_preferences_methods.py:47: PytestUnknownMarkWarning: Unknown pytest.mark.integtest - is this a typo?  You can register cus
tom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integtest

tests/test_integration/test_only_local_working_methods/test_hybrid_methods.py::test_hybrid_by_svd_history_tfidf
tests/test_integration/test_only_local_working_methods/test_hybrid_methods.py::test_hybrid_by_svd_history_tfidf
tests/test_integration/test_only_local_working_methods/test_hybrid_methods.py::test_hybrid_prefilling
  C:\Users\patrik\PycharmProjects\moje-clanky-api-3\src\recommender_core\recommender_algorithms\hybrid_algorithms\hybrid_methods.py:410: FutureWarning: Dropping of nuisance columns in DataFrame reductions (with 'numeric_only=None')
is deprecated; in a future version this will raise TypeError.  Select only valid columns before calling the reduction.
    results_df['coefficient'] = results_df.sum(axis=1)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html

---------- coverage: platform win32, python 3.8.10-final-0 -----------
Name                                                                                                                     Stmts   Miss  Cover
--------------------------------------------------------------------------------------------------------------------------------------------
src\__init__.py                                                                                                              0      0   100%
src\constants\__init__.py                                                                                                    0      0   100%
src\constants\file_paths.py                                                                                                  5      1    80%
src\constants\naming.py                                                                                                      4      0   100%
src\custom_exceptions\__init__.py                                                                                            0      0   100%
src\custom_exceptions\exceptions.py                                                                                          2      0   100%
src\main.py                                                                                                                  3      3     0%
src\messaging\__init__.py                                                                                                    0      0   100%
src\messaging\consume_queue.py                                                                                              12     12     0%
src\messaging\init_channels.py                                                                                              33     33     0%
src\prefillers\__init__.py                                                                                                   0      0   100%
src\prefillers\content_based_prefillers\__init__.py                                                                          0      0   100%
src\prefillers\content_based_prefillers\prefilling_doc2vec.py                                                               10     10     0%
src\prefillers\content_based_prefillers\prefilling_doc2vec_full.py                                                          10     10     0%
src\prefillers\content_based_prefillers\prefilling_doc2vec_vectors.py                                                        9      9     0%
src\prefillers\content_based_prefillers\prefilling_lda.py                                                                   10     10     0%
src\prefillers\content_based_prefillers\prefilling_lda_full.py                                                              10     10     0%
src\prefillers\content_based_prefillers\prefilling_tfidf.py                                                                 10     10     0%
src\prefillers\content_based_prefillers\prefilling_tfidf_full.py                                                            10     10     0%
src\prefillers\content_based_prefillers\prefilling_word2vec_full.py                                                          8      8     0%
src\prefillers\notify_prefillers.py                                                                                          4      4     0%
src\prefillers\prefiller.py                                                                                                310    217    30%
src\prefillers\prefilling_additional.py                                                                                    139    125    10%
src\prefillers\prefilling_all.py                                                                                            77     21    73%
src\prefillers\prefilling_mongo.py                                                                                           1      1     0%
src\prefillers\preprocessing\__init__.py                                                                                     0      0   100%
src\prefillers\preprocessing\bigrams_phrases.py                                                                             36     36     0%
src\prefillers\preprocessing\cz_preprocessing.py                                                                            63      5    92%
src\prefillers\preprocessing\czech_stemmer.py                                                                              134    122     9%
src\prefillers\preprocessing\stopwords_loading.py                                                                           42     21    50%
src\prefillers\user_based_prefillers\__init__.py                                                                             0      0   100%
src\prefillers\user_based_prefillers\prefilling_collaborative.py                                                            19      3    84%
src\prefillers\user_based_prefillers\prefilling_user_classifier.py                                                          94     82    13%
src\presentation\__init__.py                                                                                                 0      0   100%
src\presentation\data_logging.py                                                                                             7      7     0%
src\recommender_core\__init__.py                                                                                             0      0   100%
src\recommender_core\checks\__init__.py                                                                                      0      0   100%
src\recommender_core\checks\data_types.py                                                                                   61     30    51%
src\recommender_core\data_handling\__init__.py                                                                               0      0   100%
src\recommender_core\data_handling\data_connection.py                                                                       20     20     0%
src\recommender_core\data_handling\data_handlers.py                                                                          7      3    57%
src\recommender_core\data_handling\data_manipulation.py                                                                    575    312    46%
src\recommender_core\data_handling\data_queries.py                                                                         465    182    61%
src\recommender_core\data_handling\model_methods\__init__.py                                                                 0      0   100%
src\recommender_core\data_handling\model_methods\user_methods.py                                                            34      8    76%
src\recommender_core\data_handling\reader.py                                                                                93     69    26%
src\recommender_core\dataset_statistics\__init__.py                                                                          0      0   100%
src\recommender_core\dataset_statistics\corpus_statistics.py                                                                66     54    18%
src\recommender_core\global_excpetion_handlers\__init__.py                                                                   0      0   100%
src\recommender_core\global_excpetion_handlers\exception_handlers.py                                                         0      0   100%
src\recommender_core\recommender_algorithms\__init__.py                                                                      0      0   100%
src\recommender_core\recommender_algorithms\content_based_algorithms\__init__.py                                             0      0   100%
src\recommender_core\recommender_algorithms\content_based_algorithms\doc2vec.py                                            435    240    45%
src\recommender_core\recommender_algorithms\content_based_algorithms\doc_sim.py                                            180     92    49%
src\recommender_core\recommender_algorithms\content_based_algorithms\exceptions.py                                           0      0   100%
src\recommender_core\recommender_algorithms\content_based_algorithms\gensim_methods.py                                      77     35    55%
src\recommender_core\recommender_algorithms\content_based_algorithms\helper.py                                              58     31    47%
src\recommender_core\recommender_algorithms\content_based_algorithms\ldaclass.py                                                519    385    26%
src\recommender_core\recommender_algorithms\content_based_algorithms\memory_profiler.py                                     15     15     0%
src\recommender_core\recommender_algorithms\content_based_algorithms\models_manipulation\__init__.py                         0      0   100%
src\recommender_core\recommender_algorithms\content_based_algorithms\models_manipulation\models_loaders.py                   8      0   100%
src\recommender_core\recommender_algorithms\content_based_algorithms\similarities.py                                        84     38    55%
src\recommender_core\recommender_algorithms\content_based_algorithms\tfidf.py                                              388    177    54%
src\recommender_core\recommender_algorithms\content_based_algorithms\word2vec.py                                           581    404    30%
src\recommender_core\recommender_algorithms\hybrid_algorithms\__init__.py                                                    0      0   100%
src\recommender_core\recommender_algorithms\hybrid_algorithms\hybrid_methods.py                                            276     40    86%
src\recommender_core\recommender_algorithms\learn_to_rank\__init__.py                                                        0      0   100%
src\recommender_core\recommender_algorithms\learn_to_rank\learn_to_rank_legacy.py                                          109    109     0%
src\recommender_core\recommender_algorithms\learn_to_rank\learn_to_rank_methods.py                                         605    605     0%
src\recommender_core\recommender_algorithms\user_based_algorithms\__init__.py                                                0      0   100%
src\recommender_core\recommender_algorithms\user_based_algorithms\collaboration_based_recommendation.py                    238    144    39%
src\recommender_core\recommender_algorithms\user_based_algorithms\user_keywords_recommendation.py                           59     16    73%
src\recommender_core\recommender_algorithms\user_based_algorithms\user_relevance_classifier\__init__.py                      0      0   100%
src\recommender_core\recommender_algorithms\user_based_algorithms\user_relevance_classifier\classifier.py                  265     80    70%
src\recommender_core\recommender_algorithms\user_based_algorithms\user_relevance_classifier\user_evaluation_results.py       7      7     0%
src\try2.py                                                                                                                 13     13     0%
src\try3.py                                                                                                                 11     11     0%
src\try.py                                                                                                                  11     11     0%
src\try_hybrid.py                                                                                                            8      8     0%
--------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                     6330   3909    38%

======================================================================================================= short test summary info =======================================================================================================
================================================================================== 3 failed, 128 passed, 69 warnings, 1 error in 1557.02s (0:25:57) ===================================================================================
